
@using Resources;
@using Kamsyk.Reget.Controllers;
@using Kamsyk.Reget.AgControls;

@{
    var parentPgController = ViewContext.Controller as ParentPgController;

    //var strParentPgItem = "<div>" +
    //            "<span md-highlight-text=\"searchstringparentpg\" md-highlight-flags=\"i\" style=\"vertical-align: middle; margin-left:5px;\">{{item.name}}</span>" +
    //         "</div>";

    var strAdminCompniesIds = "";
    if (ViewBag.AdminCompaniesIds != null) {

    }

}

<form name="frmUsedPg" style="overflow-x:auto" ng-app="RegetApp">
    <div id="angContainer" ng-controller="UsedPgController as angCtrl" layout="column" ng-cloak>
        @Html.Partial("_NavigationBar")

        <div style="margin-bottom:15px;">
            @{
                UiGrid uiGrid = new UiGrid(parentPgController.GetRootUrl());
                uiGrid.RootTagId = "grdUsedPg";
                uiGrid.AgControlerName = "angCtrl";
                uiGrid.Title = RequestResource.PurchaseGroup;
                uiGrid.AddNewText = null;
            }
            @Html.Raw(uiGrid.RenderControlHtml())

            @*@Html.Raw(parentPgController.GetDataGridTs(
                "grdUsedPg",
                "angCtrl",
                RequestResource.PurchaseGroup,
                null))*@

        </div>

        <regettranslategrid text1="angCtrl.translateText1"
                            text2="angCtrl.translateText2"
                            label1="{{angCtrl.translateLabel1}}"
                            label2="{{angCtrl.translateLabel2}}"
                            flag1="{{angCtrl.translateFlagUrl1}}"
                            flag2="{{angCtrl.translateFlagUrl2}}"
                            translateerrormsg="angCtrl.translateErrorMsg"
                            isdefaultlang="angCtrl.isDefaultLang"
                            savetext="{{angCtrl.locSaveText}}"
                            canceltext="{{angCtrl.locCancelText}}"
                            mandatorytext="{{angCtrl.locMandatoryTextFieldText}}"
                            text1changed="angCtrl.localtext1changed(updatedText)"
                            text2changed="angCtrl.localtext2changed(updatedText)"
                            saveparentpgtrans="angCtrl.saveTranslation()"
                            closeparentpgtrans="angCtrl.closeTranslation()">
        </regettranslategrid>

        @Html.Partial("_LocalizationTextBasic")
        @Html.Partial("_DataGrid")

        <div style="display:none;">
            <input id="WarningText" value="@RequestResource.Warning" />
            <input id="ErrMsgText" value="@RequestResource.Error" />
            <input id="CloseText" value="@RequestResource.Close" />
            <input id="YesText" value="@RequestResource.Yes" />
            <input id="NoText" value="@RequestResource.No" />
            <input id="EditText" value="@RequestResource.Edit" />
            <input id="SaveText" value="@RequestResource.Save" />
            <input id="CancelText" value="@RequestResource.Cancel" />
            <input id="ActiveText" value="@RequestResource.Active" />
            <input id="PurchaseGroupText" value="@RequestResource.PurchaseGroup" />
            <input id="ParentPgText" value="@RequestResource.ParentPg" />
            <input id="AreaText" value="@RequestResource.Area" />
            <input id="CompanyText" value="@RequestResource.Company" />
            <input id="DeleteText" value="@RequestResource.Delete" />
            <input id="TranslationText" value="@RequestResource.Translation" />
            <input id="MandatoryTextFieldText" value="@RequestResource.MandatoryTextField" />
            <input id="MissingMandatoryText" value="@RequestResource.MandatoryValueIsMissing" />
            <input id="DuplicityPgNameText" value="@RequestResource.DuplicityPgName" />
            <input id="DeletePgConfirmText" value="@RequestResource.DeletePgConfirm" />
            <input id="LoadingLocalizationText" value="@RequestResource.LoadingLocalization" />

            <input id="adminCompanies" value="@strAdminCompniesIds" />

            <input id="ParentPgId" value="@ViewBag.ParentPgId" />

            @{
                if (parentPgController.IsDefaultLang) {
                    <input id="IsDefaultLang" value="1" />
                } else {
                    <input id="IsDefaultLang" value="0" />
                }
            }
        </div>
    </div>

</form>